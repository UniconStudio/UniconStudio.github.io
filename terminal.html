<html>
<title>Terminal</title>
<style>
  body, html {
    margin: 8;
    background: #000000;
    color: white;
  }
</style>
  
<script>
  var title = "root@terminal: $ ";
  var data = "Hello, Terminal!<br>";
  var input = "";
  
  function command(cmd) {
    var cmdd = cmd.split(" ");
    switch(cmdd[0]) {
      case "help":
        data += "Помощи не жди.";
        return true;
        
      case "ls":
        data += "Тут нет папок, ты дурак?";
        return true;
        
      case "title":
        title = cmdd[1];
        return true;
    }
    
    return false;
  }
  
  function draw() {
    document.getElementById("text").innerHTML = data + "<br>" + title + input; 
    var scrollingElement = (document.scrollingElement || document.body);
    scrollingElement.scrollTop = scrollingElement.scrollHeight;
  }
  
  onkeypress = function(key) { 
    //console.log(key['key']);
    
    if(key['key'] == "Enter") { 
      var o = command(input);
      
      if(o) data += "<br>";
      else if(input != "") data += "Ошибка, такой комманды нету.<br>";
      input = "";
    }
      // input[data.length-1] = '';
    else input += key['key'];
    
    draw();
  }
  
  document.onload = draw();
  </script>
  
<body>
  <font id="text"></font>
</body>
</html>
